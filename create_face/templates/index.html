{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6 text-center">Create an Avatar</h1>
  <div id="create_form">
  <div id="attributes" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
    <div class="form-group">
      <label for="gender" class="block text-sm font-medium text-gray-700 mb-1">Gender</label>
      <select id="gender" class="select select-bordered w-full max-w-xs">
        <option disabled selected>Select Gender</option>
        <option>Male</option>
        <option>Female</option>
        <option>Ugly</option>
      </select>
    </div>

    <div class="form-group">
      <label for="hair_color" class="block text-sm font-medium text-gray-700 mb-1">Hair Color</label>
      <select id="hair_color" class="select select-bordered w-full max-w-xs">
        <option disabled selected>Select Hair Color</option>
        <option>Brown Hair</option>
        <option>Ginger Hair</option>
        <option>Blonde Hair</option>
        <option>Black Hair</option>
        <option>White Hair</option>
        <option>Purple Hair</option>
      </select>
    </div>

    <div class="form-group">
      <label for="skin_type" class="block text-sm font-medium text-gray-700 mb-1">Skin Color</label>
      <select id="skin_type" class="select select-bordered w-full max-w-xs">
        <option disabled selected>Select Skin Type</option>
        <option>Tan Skin</option>
        <option>Pale Skin</option>
        <option>Gross Skin</option>
        <option>Dark Skin</option>
        <option>Melted Skin</option>
      </select>
    </div>

    <div class="form-group">
      <label for="ethnicity" class="block text-sm font-medium text-gray-700 mb-1">Ethnicity</label>
      <select id="ethnicity" class="select select-bordered w-full max-w-xs">
        <option disabled selected>Select Ethnicity</option>
        <option>African</option>
        <option>Caucasian</option>
        <option>Italian</option>
        <option>Jewish</option>
        <option>British</option>
        <option>Finnish</option>
        <option>Mexican</option>
        <option>Chinese</option>
        <option>Vietnamese</option>
      </select>
    </div>

    <div class="form-group">
      <label for="eye_color" class="block text-sm font-medium text-gray-700 mb-1">Eye Color</label>
      <select id="eye_color" class="select select-bordered w-full max-w-xs">
        <option disabled selected>Select Eye Color</option>
        <option>Brown Eyes</option>
        <option>Blue Eyes</option>
        <option>Red Eyes</option>
        <option>Yellow Eyes</option>
        <option>Green Eyes</option>
        <option>Black Eyes</option>
      </select>
    </div>

    <div class="form-group">
      <label for="bodyfat" class="block text-sm font-medium text-gray-700 mb-1">Bodyfat Type</label>
      <select id="bodyfat" class="select select-bordered w-full max-w-xs">
        <option disabled selected>Select Bodyfat Type</option>
        <option>Morbidly Obese</option>
        <option>Obese</option>
        <option>Chubby</option>
        <option>Normal</option>
        <option>Thin</option>
        <option>Gaunt</option>
        <option>Skeleton</option>
      </select>
    </div>
  </div>

  <div id="generate_button">
  <button hx-post="create" hx-indicator="#spinner" hx-vals='js:{gender: getGender(), hair_color: getHairColor(), skin_type: getSkinType(), eye_color: getEyeColor(), gender: getGender(), bodyfat: getBodyfat(), ethnicity: getEthnicity()}' class="bg-white text-blue-700 py-2 px-4 rounded hover:bg-blue-700 hover:text-white transition duration-300">
    Generate Avatar
  </button>
  <img id="spinner" class="htmx-indicator content-center" src="static/images/bars.svg"/>
  </div>

  <script>
    function getHairColor() {
      return document.getElementById("hair_color").value;
    }
    function getSkinType() {
      return document.getElementById("skin_type").value;
    }
    function getEthnicity() {
      return document.getElementById("ethnicity").value;
    }
    function getEyeColor() {
      return document.getElementById("eye_color").value;
    }
    function getGender() {
      return document.getElementById("gender").value;
    }
    function getBodyfat() {
      return document.getElementById("bodyfat").value;
    }
  </script>
  </div>

  <hr class="my-6"/>

  <div id="avatar" class="text-center">
    {% if avatar == "true" %}
      <p class="text-lg font-semibold">Nice Avatar</p>
      <img src="static/images/generated_image.png" alt="avatar" class="mx-auto rounded-lg shadow-lg"/>
    {% else %}
      <p class="text-lg font-semibold">No avatar created yet</p>
      <img src="static/images/empty_profile.png" alt="avatar" class="mx-auto rounded-lg shadow-lg"/>
    {% endif %}
  </div>
</div>
{% endblock %}

